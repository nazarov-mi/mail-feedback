# Mail Feedback
Скрипт для настройки форм обратной связи.

## Установка.
Перенесите файл mail.php в корневую директорию сайта.
Подключите к странице файл mail.js.

## Настройка.
### Настройка mail.php
В файле mail.php находиться два массива с настройками.

#### $CONFIG

	from_mail - e-mail отправителя (стандартно - no-reply@хост)
	from_name - имя отправителя / заголовок письма
	to_mail   - e-mail получателя
	to_name   - имя получателя

#### $FORMS

	В массиве ключом является имя формы, значением - массив с параметрами
	
	Параметры:
	
	title  - название формы (отображается в письме)
	fields - список полей
	
		В массиве ключом является имя поля, значением - массив с параметрами
		
		Параметры:
		
		title - название поля (отображается в письме)
		rules - список правил для валидации поля
		
			В массиве ключом является название правила, значением - параметр
			
			Возможные правила валидации:
			
			required  - поле обязательно для заполнение, параметр должен быть TRUE
			minlength - минимальное количество символов, параметр должен быть числом
			maxlength - максимальное количество символов, параметр должен быть числом
			pregmatch - регулярное выражение для сопоставления со значением поля

### Настройка mail.js не требуется
Форма, которую вы хотите использовать для отправки данных должна иметь:
* имя (аттрибут `name`) идентичное указанному в `$FROMS`, файла mail.php;
* класс `fb-form`.

Форме, во время процесса отправки будет присвоен класс `fb-form_loading`, после удачной попытки отправки - класс `fb-form_success` и после не удачной - класс `fb-form_error`.

Если в форме присутствует DOM-элемент с классом `fb-status`, в этот элемент будет помешён текст со статусом отправки, а также в случае удачной попытки отправки присвоен класс `fb-status_success` и после не удачной - класс `fb-status_error`.

Всем полям ввода, которым присвоен класс `fb-input`, после неудачной попытки валидации будет присвоен класс `fb-input_error`.

Если в форме присутствует DOM-элемент с классом `fb-label` c аттрибутом `rel`, идентичным имени (аттрибуту `name`) поля, в него будет помешён текст ошибки в случае неудачной валидации.

Всем DOM-элементам формы с классом `fb-disabled` на время загрузки будет присвоен параметр `disabled`.
